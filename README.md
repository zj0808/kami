# 🎫 Kami - 卡密管理系统

一个简洁、现代化的卡密（兑换码）管理系统，基于 Next.js 14 和 Vercel KV (Redis) 构建。

## ✨ 功能特性

### 前台功能
- 🔐 卡密验证和兑换
- 📱 响应式设计，支持移动端
- 🎨 现代化 UI 设计
- 🔒 IP 限制防止暴力破解
- ♻️ 支持多次使用的卡密

### 后台管理
- 🔑 密码保护的管理后台
- ➕ 创建单个或批量卡密
- 🎯 自定义卡密码或自动生成
- 🔢 设置使用次数限制
- 📊 卡密使用统计
- 🔍 搜索和筛选功能
- ☑️ 批量选择和操作
- 📋 一键复制卡密/链接
- 📤 导出为 TXT/CSV 格式
- 🗑️ 删除卡密
- 📍 记录使用 IP 和历史

## 🛠️ 技术栈

- **框架**: Next.js 14 (App Router)
- **语言**: TypeScript
- **样式**: Tailwind CSS
- **数据库**: Vercel KV (Redis)
- **部署**: Vercel

## 🚀 快速开始

### 本地开发

1. **安装依赖**
```bash
npm install
```

2. **配置环境变量**

创建 `.env.local` 文件：
```bash
ADMIN_PASSWORD=your_admin_password
```

3. **运行开发服务器**
```bash
npm run dev
```

4. **访问应用**
- 前台：http://localhost:3000
- 后台：http://localhost:3000/admin

### 部署到 Vercel

详细部署步骤请查看 [DEPLOY.md](./DEPLOY.md)

**简要步骤：**
1. 推送代码到 GitHub
2. 在 Vercel 导入项目
3. 配置环境变量 `ADMIN_PASSWORD`
4. 部署项目
5. 创建 Vercel KV 数据库
6. 重新部署

## 📖 使用说明

### 创建卡密

1. 访问 `/admin` 登录管理后台
2. 填写卡密内容
3. 设置使用次数限制（默认 3 次）
4. 选择批量生成数量（1-100）
5. 点击"创建卡密"

### 批量操作

1. 使用复选框选择多个卡密
2. 点击"复制卡密"或"复制链接"批量复制
3. 点击"导出TXT"或"导出CSV"导出选中的卡密

### 验证卡密

1. 访问首页
2. 输入卡密码
3. 点击"验证"查看内容

## 🔒 安全特性

- ✅ 管理后台密码保护
- ✅ IP 限制防止暴力破解
- ✅ 环境变量保护敏感信息
- ✅ 使用次数限制
- ✅ 使用历史记录

## 📊 数据存储

项目使用 **Vercel KV (Redis)** 存储数据：
- 所有卡密数据存储在 Redis 中
- 数据持久化，不会丢失
- 免费额度：30MB 存储，100,000 次请求/月

## 📝 环境变量

| 变量名 | 说明 | 必需 |
|--------|------|------|
| `ADMIN_PASSWORD` | 管理员密码 | ✅ |
| `KV_REST_API_URL` | Vercel KV URL | ✅ (部署时自动配置) |
| `KV_REST_API_TOKEN` | Vercel KV Token | ✅ (部署时自动配置) |

## 📄 许可证

MIT License
